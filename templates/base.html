<!DOCTYPE html>
<html lang="en" class="transition-colors duration-500">
<head>
  <meta charset="UTF-8">
  <title>PracCode</title>
  <meta name="csrf-token" content="{{ csrf_token }}">

  <!-- Fonts & Tailwind -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Prism.js CSS for syntax highlighting -->
  <!-- <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/> -->

  <style>
    body {
      font-family: 'Inter', sans-serif;
      transition: background-color 0.5s, color 0.5s;
    }
    .fade-transition {
      transition: all 0.4s ease-in-out;
    }
  </style>

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          animation: {
            fadeIn: 'fadeIn 0.5s ease-in-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: 0 },
              '100%': { opacity: 1 },
            }
          }
        }
      }
    }
  </script>

  <!-- Theme Loader -->
  <script>
    if (localStorage.getItem("theme") === "dark") {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }

    function toggleDarkMode() {
      const html = document.documentElement;
      const isDark = html.classList.toggle("dark");
      localStorage.setItem("theme", isDark ? "dark" : "light");

      document.body.classList.add("fade-transition");
      setTimeout(() => {
        document.body.classList.remove("fade-transition");
      }, 500);
    }
  </script>
</head>

<body class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300 min-h-screen">

  <!-- Theme Toggle -->
  <div class="fixed top-4 right-4 z-50">
    <button onclick="toggleDarkMode()" class="px-4 py-2 rounded-full shadow bg-gray-900 text-white dark:bg-yellow-300 dark:text-gray-900 transition-all duration-300 flex items-center gap-2">
      <span class="dark:hidden">ðŸŒ™ Dark Mode</span>
      <span class="hidden dark:inline">ðŸŒž Light Mode</span>
    </button>
  </div>

  <!-- Page Content -->
  <div class="max-w-7xl mx-auto p-6 animate-fadeIn">
    {% block content %}{% endblock %}
  </div>

  <!-- Prism.js JS -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-cpp.min.js"></script>
</body>
</html>
